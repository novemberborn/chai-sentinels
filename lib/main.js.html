<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>main - main.js</title>

  <link rel="stylesheet" href="../assets/style.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
  <meta name="groc-relative-root" content="../"/>
  <meta name="groc-document-path" content="lib/main.js"/>
  
</head>
<body>
  <div id="file-area">
    <div id="meta">
      <code class="file-path">
      
        <a href="https://github.com/novemberborn/chai-sentinels/blob/master/lib/main.js">lib/main.js</a>
      
      </code>
    </div>
    <div id="document">
    
      <div class="segment">
      
      
        <div class="code"><div class="wrapper"><span class="hljs-pi">'use strict'</span>;

<span class="hljs-keyword">var</span> assertions = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./assertions'</span>);
<span class="hljs-keyword">var</span> Sentinel = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Sentinel'</span>);
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h1 id="main"><a href="#main" class="anchor"></a>main</h1><p>Exports a Chai plugin to add
<a href="./assertions.js.html">sentinel-specific assertions</a>.</p>
</div>
        </div>
      
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h2 id="usage"><a href="#usage" class="anchor"></a>Usage</h2><pre><code class="lang-js">chai.use(<span class="hljs-built_in">require</span>(<span class="hljs-string">'chai-sentinels'</span>));
</code></pre>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">exports = module.exports = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(chai)</span> {</span>
  chai.use(assertions);
};
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h2 id="sentinel"><a href="#sentinel" class="anchor"></a>Sentinel</h2><p>Constructor for a unique sentinel value.
<a href="./sentinels.js.html">Read more</a>.</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">exports.Sentinel = Sentinel;
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h2 id="static-sentinels"><a href="#static-sentinels" class="anchor"></a>Static sentinels</h2><p>Thirteen different sentinels are available from <code>chai-sentinels</code>:</p>
<ul>
<li><code>.foo</code></li>
<li><code>.bar</code></li>
<li><code>.baz</code></li>
<li><code>.qux</code></li>
<li><code>.quux</code></li>
<li><code>.corge</code></li>
<li><code>.grault</code></li>
<li><code>.garply</code></li>
<li><code>.waldo</code></li>
<li><code>.fred</code></li>
<li><code>.plugh</code></li>
<li><code>.xyzzy</code></li>
<li><code>.thud</code></li>
</ul>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> FIELDS = [
  <span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>, <span class="hljs-string">'baz'</span>, <span class="hljs-string">'qux'</span>, <span class="hljs-string">'quux'</span>, <span class="hljs-string">'corge'</span>, <span class="hljs-string">'grault'</span>, <span class="hljs-string">'garply'</span>, <span class="hljs-string">'waldo'</span>,
  <span class="hljs-string">'fred'</span>, <span class="hljs-string">'plugh'</span>, <span class="hljs-string">'xyzzy'</span>, <span class="hljs-string">'thud'</span>
];

FIELDS.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(name)</span> {</span>
  exports[name] = <span class="hljs-keyword">new</span> Sentinel(name);
});
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h2 id="stubobject-length-"><a href="#stubobject-length-" class="anchor"></a>stubObject(length)</h2><p>Creates an object with new sentinel instances. Provide <code>length</code> (at least 1,
max 13) to control how many sentinels the object will contain. Property
names are picked from the standard list of metasyntactic variables, in order.
see <a href="http://tools.ietf.org/html/rfc3092">RFC 3092</a>. The sentinel label is
set to the same name.</p>
</div>
        </div>
      
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p><code>length</code> defaults to <code>3</code> if it&#39;s passed as <code>0</code> or cannot be cast to a number.
Throws a <code>TypeError</code> if <code>length</code> is outside the allowed range.</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">exports.stubObject = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(length)</span> {</span>
  length = <span class="hljs-built_in">Number</span>(length) || <span class="hljs-number">3</span>;
  <span class="hljs-keyword">if</span> (length &lt; <span class="hljs-number">1</span> || length &gt; FIELDS.length) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Expected 1 &lt;= `length` &lt;= '</span> + FIELDS.length);
  }

  <span class="hljs-keyword">return</span> FIELDS.slice(<span class="hljs-number">0</span>, length).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(obj, name)</span> {</span>
    obj[name] = <span class="hljs-keyword">new</span> Sentinel(name);
    <span class="hljs-keyword">return</span> obj;
  }, {});
};
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h2 id="stubarray-length-"><a href="#stubarray-length-" class="anchor"></a>stubArray(length)</h2><p>Creates an array with new sentinel instances. Provide <code>length</code> (at least 1,
max 13) to control how many sentinels the array will contain. Sentinel labels
are picked from the standard list of metasyntactic variables, in order.
see <a href="http://tools.ietf.org/html/rfc3092">RFC 3092</a>.</p>
</div>
        </div>
      
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p><code>length</code> defaults to <code>3</code> if it&#39;s passed as <code>0</code> or cannot be cast to a number.
Throws a <code>TypeError</code> if <code>length</code> is outside the allowed range.</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">exports.stubArray = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(length)</span> {</span>
  length = <span class="hljs-built_in">Number</span>(length) || <span class="hljs-number">3</span>;
  <span class="hljs-keyword">if</span> (length &lt; <span class="hljs-number">1</span> || length &gt; FIELDS.length) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Expected 1 &lt;= `length` &lt;= '</span> + FIELDS.length);
  }

  <span class="hljs-keyword">return</span> FIELDS.slice(<span class="hljs-number">0</span>, length).map(Sentinel.unary);
};
</div></div>
      
      </div>
    
    </div>
  </div>

  <script src="../toc.js"></script>
  <script src="../assets/libs.js"></script>
  <script src="../assets/behavior.js"></script>
</body>
</html>